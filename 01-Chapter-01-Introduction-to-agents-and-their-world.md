# AI Agents in Action 第1章 Claude翻译版

================================================================================
第1章 智能体及其世界简介
================================================================================
**原书名称:** AI Agents in Action.pdf
**页码范围:** 25 - 37
**翻译说明:** 本翻译由 Claude AI 协助完成，仅供个人学习使用
================================================================================

## 第1章 智能体及其世界简介

智能体（agent）在机器学习和人工智能（AI）领域并不是一个新概念。例如，在强化学习中，"智能体"一词指的是一个主动决策和学习的智能实体。在其他领域，智能体这个词更多地与代表你执行某些操作的自动化应用程序或软件相关联。

### 本章内容概要
- 定义智能体的概念
- 区分智能体的各个组成部分
- 分析智能体时代的崛起：为什么需要智能体？
- 揭开 AI 接口的面纱
- 探索智能体的应用领域

## 1.1 定义智能体

你可以查阅任何在线词典来找到智能体的定义。韦氏词典（Merriam-Webster Dictionary）是这样定义的（www.merriam-webster.com/dictionary/agent）：

- 执行行动或施加力量的实体
- 能够产生或可以产生效果的事物
- 通过指导性智能实现结果的手段或工具

在本书中，我们构建强大智能体过程中使用的"智能体"一词采用这个词典定义。这也意味着术语"助手"（assistant）将与智能体同义。像 OpenAI 的 GPT Assistants 这样的工具也属于 AI 智能体的范畴。OpenAI 避免使用"智能体"一词是因为机器学习的历史背景，在那里智能体是自主决策和自治的。

图 1.1 展示了四种情况，用户可以直接与大语言模型（LLM）交互，或通过智能体/助手代理、智能体/助手或自主智能体进行交互。这四种用例在以下列表中有更详细的说明：

**直接用户交互** - 如果你使用过早期版本的 ChatGPT，你就体验过与 LLM 的直接交互。没有代理智能体或其他助手代表你进行干预。

**智能体/助手代理** - 如果你通过 ChatGPT 使用过 Dall-E 3，那么你就体验过代理智能体交互。在这种用例中，LLM 会拦截你的请求并将其重新格式化为更适合任务的格式。例如，对于图像生成，ChatGPT 会更好地格式化提示词。代理智能体是帮助用户处理不熟悉的任务或模型的日常用例。

**智能体/助手** - 如果你曾经使用过 ChatGPT 插件或 GPT 助手，那么你就体验过这种用例。在这种情况下，LLM 知道插件或助手功能，并准备调用这个插件/功能。但是，在进行调用之前，LLM 需要用户批准。如果获得批准，插件或功能将被执行，结果将返回给 LLM。然后 LLM 将这个响应包装成自然语言并返回给用户。

**自主智能体** - 在这种用例中，智能体解释用户的请求，构建计划，并识别决策点。由此，它独立执行计划中的步骤并做出所需的决策。智能体可能在某些里程碑任务后请求用户反馈，但通常会被赋予自由探索和学习的权限（如果可能）。这种智能体带来了最多的伦理和安全问题，我们将在后面探讨。

图 1.1 演示了使用单个智能体在 LLM 上执行单个操作流的用例。对于更复杂的问题，我们经常将智能体分为不同的配置文件或角色。每个智能体配置文件被赋予特定任务，并使用专门的工具和知识执行该任务。

**多智能体系统**是智能体配置文件以各种配置协同工作以解决问题的系统。图 1.2 演示了一个使用三个智能体的多智能体系统示例：一个控制器或代理，以及两个作为工人的配置文件智能体由代理控制。左侧的编码者配置文件编写用户请求的代码；右侧是一个测试者配置文件，设计用于编写单元测试。这些智能体协同工作和通信，直到它们对代码满意，然后将其传递给用户。

图 1.2 展示了可能无限的智能体配置之一。（在第4章中，我们将探索微软的开源平台 AutoGen，它支持多种配置来部署多智能体系统。）

多智能体系统可以自主工作，但也可以完全由人类反馈引导。使用多个智能体的好处类似于单个智能体的好处，但通常会被放大。单个智能体通常专门从事单一任务，而多智能体系统可以并行处理多个任务。多个智能体还可以提供反馈和评估，减少完成任务时的错误。

正如我们所看到的，AI 智能体或智能体系统可以以多种方式组装。然而，智能体本身也可以使用多个组件来组装。在下一节中，我们将涵盖从智能体的配置文件到它可能执行的动作，以及内存和规划等主题。

## 1.2 理解智能体的组成系统

智能体可以是由多个组成系统构成的复杂单元。这些组件是智能体用来帮助完成其目标或分配的任务，甚至创建新任务的工具。组件可以是简单或复杂的系统，通常分为五个类别。

图 1.3 描述了单智能体系统可能包含的主要组件类别。每个元素都有子类型，可以定义组件的类型、结构和用途。所有智能体的核心是配置文件和角色；从中扩展的是增强智能体的系统和功能。

### 配置文件和角色（Profile and Persona）

图 1.4 所示的智能体配置文件和角色代表智能体的基本描述。角色——通常称为系统提示——指导智能体完成任务、学习如何响应以及其他细微差别。它包括背景（例如，编码者、作家）和人口统计等元素，可以通过手工制作、LLM 辅助或数据驱动技术（包括进化算法）等方法生成。

我们将探索如何通过评分标准和基础等技术创建有效和具体的智能体配置文件/角色。此外，我们将解释人类制定与 AI 制定（LLM）配置文件的各个方面，包括使用数据和进化算法构建配置文件的创新技术。

**注意：** 智能体或助手配置文件由包括角色在内的元素组成。将配置文件视为描述智能体/助手将执行的工作及其需要的工具可能会有所帮助。

**配置文件内容：**
- **智能体角色**：我们将了解如何清晰定义角色，指定其角色和特征以有效指导智能体
- **智能体角色和人口统计**：我们将看到相关的人口统计和角色详细信息如何提供智能体上下文，例如年龄、性别或背景，以实现更相关的交互

**配置文件生成：**
- **手工制作**：由人类手动设计
- **LLM 生成**：由人类提示指导
- **数据生成**：从数据角色构建
- **人类与 AI 辅助角色生成**：我们将强调人类参与角色生成的作用，无论是完全由人类驱动还是由 LLM 或其他智能体辅助
- **创新角色技术**：通过数据或其他新颖方法（如进化算法）生成的提示，以增强智能体能力

### 动作和工具使用（Actions and Tool Use）

图 1.5 演示了智能体上下文中的组件动作和工具使用，涉及针对任务完成或获取信息的活动。这些动作可以分类为任务完成、探索和通信，对智能体的环境和内部状态具有不同程度的影响。动作可以手动生成、通过记忆回忆或遵循预定义计划，影响智能体的行为并增强学习。

理解动作目标帮助我们为任务完成、探索或通信定义明确的目标。识别动作效果揭示了动作如何影响任务结果、智能体的环境及其内部状态，有助于高效决策。最后，掌握动作生成方法使我们具备手动创建动作、从记忆中回忆或遵循预定义计划的知识，增强我们有效塑造智能体行为和学习过程的能力。

**动作目标**：
- 我们将学习定义动作目标的重要性，无论是用于任务完成、探索还是通信，以阐明智能体的目标

**动作空间和影响**：
- 语义或原生函数
- 工具、自我知识、其他智能体
- 环境、新动作、内部状态、其他智能体
- 我们将了解理解动作如何影响任务完成及其对智能体环境、内部状态和自我知识影响的重要性

**动作生成方法**：
- 手动、记忆回忆、计划跟随
- 我们将看到生成动作的各种方式，例如手动创建、记忆回忆或计划跟随，以说明智能体行为的多样性

### 知识和内存（Memory and Knowledge）

图 1.6 更详细地展示了组件知识和内存。智能体使用知识和内存来注释上下文，提供最相关的信息，同时限制使用的令牌数量。知识和内存结构可以是统一的，其中两个子集遵循单一结构或涉及不同检索形式混合的混合结构。知识和内存格式可以从语言（例如，PDF 文档）到数据库（关系型、对象型或文档型）和嵌入式表示广泛变化，通过向量表示简化语义相似性搜索，甚至作为智能体记忆的简单列表。

**检索结构多样性**：
- **统一**：单一检索结构
- **混合**：多种检索形式的混合
- 我们将了解智能体可以采用的各种记忆结构，包括统一和混合方法，使信息存储具有灵活性

**检索格式**：
- **语言**：PDF 文档等
- **数据库**：关系型、对象型或文档型
- **嵌入式表示**：向量表示
- **列表**：简单列表结构
- 我们将探索记忆的各种数据源，例如语言（例如，PDF 文档）、数据库（关系型、对象型或文档型）和嵌入式表示，提供丰富的信息池供提取

**检索操作**：
- **增强**：上下文增强
- **语义提取**：语义相似性搜索
- **压缩**：信息压缩
- 我们将学习嵌入式表示如何实现语义相似性搜索，促进相关数据的高效检索并增强智能体的决策能力

### 推理和评估（Reasoning and Evaluation）

图 1.7 展示了智能体系统的推理和评估组件。研究和实际应用表明，LLM/智能体可以有效地进行推理。推理和评估系统通过提供思考问题和评估解决方案的能力来注释智能体的工作流程。

**推理方法**：
- **零样本提示**（Zero-shot prompting）
- **单样本提示**（One-shot prompting）
- **少样本提示**（Few-shot prompting）
- **思维链**（Chain of thought）
- **思维树**（Tree of thought）
- **思维骨架**（Skeleton of thought）
- 推理使智能体能够自我反思并内部推理完成一个或多个任务

**评估方法**：
- **自我一致性**（Self-consistency）
- **提示链**（Prompt chaining）
- 评估为智能体在完成任务的过程中和完成任务后的自我反思提供基础

### 规划和反馈（Planning and Feedback）

图 1.8 展示了组件智能体规划/反馈及其在组织任务以实现更高级别目标中的作用。它可以分类为以下两种方法：

**无反馈规划** - 自主智能体独立做出决策

**有反馈规划** - 基于各种输入源监控和修改计划，包括环境变化和直接的人类反馈

在规划中，智能体可能采用单路径推理，通过任务的每个步骤进行顺序推理，或采用多路径推理来探索多种策略并保存高效的策略以供将来使用。外部规划器（可以是代码或其他智能体系统）也可能在编排计划中发挥作用。

**无反馈规划（自主）**：
- 基础规划
- 带推理的自动工具使用
- 顺序规划
- 我们将研究有反馈和无反馈的各种规划策略——从基础和顺序规划器到带推理的自动工具使用

**有反馈规划**：
- 环境反馈
- 人类反馈
- LLM 反馈
- 自适应建设性反馈
- 反馈可能来自各种来源，例如环境、人类和 LLM 通过各种建设性反馈模式

我们之前的任何智能体类型——代理智能体/助手、智能体/助手或自主智能体——都可能使用这些组件中的部分或全部。即使规划组件在自主智能体之外也有作用，可以有效地增强常规智能体的能力。

## 1.3 审视智能体时代的崛起：为什么需要智能体？

AI 智能体和助手已经迅速从 AI 研究的主要商品转变为主流软件开发。越来越多的工具和平台协助构建和赋能智能体。对于局外人来说，这一切可能看起来像是为了夸大某些很酷但被高估的技术价值而进行的炒作。

在 ChatGPT 最初发布后的最初几个月里，形成了一个称为提示工程的新学科：用户发现在提示中使用各种技术和模式可以生成更好、更一致的输出。然而，用户也意识到提示工程只能走到这一步。

提示工程仍然是与 ChatGPT 等 LLM 直接交互的绝佳方式。随着时间的推移，许多用户发现有效的提示需要迭代、反思和更多迭代。第一批智能体系统（如 AutoGPT）从这些发现中出现，吸引了社区的注意。

图 1.9 展示了 AutoGPT 的原始设计，这是最早的自主智能体系统之一。该智能体被设计为迭代它通过查看用户目标定义的计划任务序列。通过每个任务迭代步骤，智能体评估目标并确定任务是否完成。如果任务未完成，智能体可能会重新规划步骤并根据新知识或人类反馈更新计划。

AutoGPT 成为第一个演示使用任务规划和迭代与 LLM 模型的力量的示例。从此以及同时，其他智能体系统和框架使用类似的规划和任务迭代系统爆炸式地进入社区。普遍认为，规划、迭代和重复是解决 LLM 复杂和多方面目标的最佳过程。

然而，自主智能体系统需要对智能体决策过程、护栏/评估系统和目标定义的信任。信任也是随着时间的推移获得的东西。我们缺乏信任源于我们对自主智能体能力的理解不足。

**注意：** 人工通用智能（AGI）是一种可以学习完成人类可以完成的任何任务的智能形式。这个 AI 新世界的许多从业者相信，使用自主智能体系统的 AGI 是一个可实现的目标。

出于这个原因，许多主流和生产就绪的智能体工具并不是自主的。然而，它们仍然在使用 GPT（LLM）管理和自动化任务方面提供了显著的好处。因此，由于我们在本书中的目标是理解所有智能体形式，更多的实际应用将由非自主智能体驱动。

智能体和智能体工具只是新软件应用程序开发范式的顶层。我们将在下一节中研究这个新范式。

**AutoGPT 自主 AI 机制流程**：
1. **设置目标** - 用户设置主要目标
2. **定义和排序任务** - 智能体规划出要执行的任务序列
3. **任务执行** - 智能体执行任务。智能体可以编写代码来根据需要执行其他任务
4. **评估** - 智能体在每次任务迭代后评估目标是否完成
5. **目标未完成** - 智能体可以设置为每个任务请求许可或每 x 个任务请求许可
6. **目标完成** - 流程结束

智能体可以访问：
- AI 大语言模型（GPT-4）
- 互联网
- 其他工具

## 1.4 揭开 AI 接口的面纱

AI 智能体范式不仅是我们与 LLM 合作方式的转变，而且被视为我们开发软件和处理数据方式的转变。软件和数据将不再使用用户界面（UI）、应用程序编程接口（API）和专门的查询语言（如 SQL）进行接口。相反，它们将被设计为使用自然语言进行接口。

图 1.10 展示了这个新架构可能是什么样子以及 AI 智能体扮演什么角色的高级快照。数据、软件和应用程序适应支持语义、自然语言接口。这些 AI 接口允许智能体收集数据并与软件应用程序交互，甚至与其他智能体或智能体应用程序交互。这代表了我们与软件和应用程序交互方式的新转变。

**AI 接口**是一组函数、工具和数据层，通过自然语言公开数据和应用程序。过去，"语义"一词被大量用于描述这些接口，甚至一些工具使用这个名称；然而，"语义"也可以有各种含义和用途。因此，在本书中，我们将使用术语"AI 接口"。

**AI 接口示例流程**：

用户请求："请创建去年销售报告。"

**智能体接口层（自然语言）**：

规划：智能体接受目标并分解为任务。
1. 收集数据
2. 注释数据
3. 格式化数据并创建报告可视化
4. 呈现报告

**执行流程**：
1. 使用自然语言查询数据库（GPT 数据层）
2. 通过调用语义函数使用自然语言注释数据（GPT 功能：API、网络浏览、搜索等）
3. 外部智能体格式化数据并可能编写代码生成可视化（GPT 工具 - 外部智能体）
4. 智能体呈现报告

**所有通信通过自然语言进行**

AI 接口的构建将赋能需要使用服务、工具和数据的智能体。随着这种赋能，将在完成任务时提高准确性以及更可信和自主的应用程序。虽然 AI 接口可能不适合所有软件和数据，但它将主导许多用例。

## 1.5 探索智能体应用领域

GPT 智能体代表了消费者和开发人员处理一切事务的全面转变，从查找信息到构建软件和访问数据。几乎每天都有新的智能体框架、组件或接口出现在 GitHub 或研究论文中。对于试图掌握智能体系统是什么以及如何使用它们的新用户来说，这可能是压倒性和令人生畏的。

## 本章小结

- **智能体**是执行行动或施加力量、产生效果或作为实现结果手段的实体。在 AI 中，智能体自动化与大语言模型（LLM）的交互。

- **助手**与智能体同义。这两个术语都包括 OpenAI 的 GPT Assistants 等工具。

- **自主智能体**可以做出独立决策，它们与非自主智能体的区别至关重要。

- **四种主要的 LLM 交互类型**包括直接用户交互、智能体/助手代理、智能体/助手和自主智能体。

- **多智能体系统**涉及智能体配置文件协同工作，通常由代理控制，以完成复杂任务。

- **智能体的主要组件**包括配置文件/角色、动作、知识/内存、推理/评估和规划/反馈。

- **智能体配置文件和角色**指导智能体的任务、响应和其他细微差别，通常包括背景和人口统计。

- **智能体的动作和工具**可以手动生成、从记忆中回忆或遵循预定义计划。

- **智能体使用知识和内存结构**通过各种格式（从文档到嵌入式表示）优化上下文并最小化令牌使用。

- **推理和评估系统**使智能体能够思考问题并使用零样本、单样本和少样本等提示模式评估解决方案。

- **规划/反馈组件**使用单路径或多路径推理组织任务以实现目标，并整合环境和人类反馈。

- **AI 智能体的崛起**引入了新的软件开发范式，从传统接口转向基于自然语言的 AI 接口。

- **理解这些工具的发展和交互**有助于开发智能体系统，无论是单个、多个还是自主的。

---

**翻译完成日期:** 2025-11-13
**翻译工具:** Claude AI (Sonnet 4.5)
**用途说明:** 本翻译仅供个人学习使用，请勿用于商业用途
